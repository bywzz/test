function closeWin(e){$(e).window("close")}function hideWindow(e){$(e).window("hide")}function trimSpace(e){if(e){var t=/(^\s+)|(\s+$)/g;t.test(e)&&(e=$.trim(e))}return e}function check(e){var t=e||window.event,n=t.target||t.srcElement,i=n.type||n.getAttribute("type"),a=n.readOnly,o=n.disabled;a="undefined"==a?!1:a,o="undefined"==o?!1:o;var l=8==t.keyCode&&(("text"==i||"textarea"==i||"password"==i)&&(1==a||1==o)||"file"==i)||t.ctrlKey&&(78==t.keyCode||82==t.keyCode)||116==t.keyCode,r=8==t.keyCode&&"text"!=i&&"textarea"!=i&&"password"!=i&&"file"!=i||t.ctrlKey&&(78==t.keyCode||82==t.keyCode)||116==t.keyCode;(l||r)&&(t.returnValue=!1,t.preventDefault&&t.preventDefault())}function showInfo(e,t,n){$.sdialog({type:e,msg:t,modal:!0,owner:n||window.top})}var SUtil={addTab:function(e){var t={close:!0},n={},i=$("#content");$.extend(n,t,e),i.length&&i.tabs("addTab",n)},getActiveTab:function(){var e=$("#content").tabs("getCurrenTabWithIframe");return e?document.getElementById(e).contentWindow:void 0},formatDate:function(e){var t=new Date(e),n=t.getFullYear(),i=t.getMonth()+1,a=t.getDate(),o=t.getHours(),l=t.getMinutes(),r=t.getSeconds();return n+"-"+i+"-"+a+" "+o+":"+l+":"+r},searchReset:function(){$(".grid-layout input:visible").each(function(){$(this).parent().hasClass("summer-combobox")?$(this).combobox("clear"):$(this).hasClass("summer-comboboxTree")?$(this).comboboxTree("clear"):$(this).val("")})},showImages:function(e){$("#imagesArea").length>0?$("#imagesArea").empty():$("body").append('<div id="imagesArea" style="display: none"></div>'),$.each(e.images,function(){$("<a>").attr({href:this.href,"data-lightbox":this.group||"group1","data-title":this.title||"默认"}).appendTo($("#imagesArea"))}),e.defaultShow?$("#imagesArea a[data-title="+e.defaultShow+"]").click():$("#imagesArea a").first().click()}},tableUtil={initTable:function(e){$(e.table_id).dataTable().fnDestroy(),$(e.table_id).dataTable({serverSide:!0,ajax:{url:e.request_url,type:"POST",data:e.request_param,async:0==e.async?!1:!0},columns:e.columns,columnDefs:e.column_defs})},getSelectData:function(e){var t=$(e),n=t.DataTable(),i=t.find('tbody input[type="checkbox"]:checked').closest("tr");return n.row(i.get(0)).data()},isChoose:function(e,t,n,i){var a=tableUtil.getSelected($(e)),o="未选中任何记录，请重新选择",l="只能选择一条记录进行操作";return a.length<1?(n&&(o=n),showInfo("info",o),!1):!t&&a.length>1?(i&&(l=i),showInfo("info",l),!1):a},getSelected:function(e){var t=[];return e.find('tbody input[type="checkbox"]:checked').each(function(){t.push($(this).val())}),t}};document.onkeydown=check,$(function(){function e(){d.removeClass("nav-front-linkicon-click"),r.removeClass("submenu-selected"),s.removeClass("fa-minus"),s.addClass("fa-plus"),c.removeClass("fa-plus"),c.addClass("fa-minus"),l.slideUp(1),o.velocity({left:"170px"},1),a.hide()}var t=$(".nav-front"),n=$(".nav-front-icon"),i=$(".nav-arrow"),a=$(".nav-behind"),o=$(".nav-behind>a"),l=$(".behind-text"),r=$(".behind-text li"),s=$(".nav-behind").find(".right i"),c=$(".nav-behind").find("i[data-firstmark]"),d=$(".nav-front-linkicon");$(".nav-front-linkicon").hover(function(){var e=$(".nav-front ul").offset().left;0>e&&$(this).addClass("nav-front-linkicon-selfhover")},function(){$(this).removeClass("nav-front-linkicon-selfhover")}),$(".nav-front ul li a.link").hover(function(){var e=$(this),t=e.attr("data-url"),n=$(".nav-front-linkicon[data-url = "+t+"]");n.addClass("nav-front-linkicon-otherhover")},function(){$(".nav-front-linkicon").removeClass("nav-front-linkicon-otherhover")}),$(".nav-front ul li a.link").on("click",function(){function e(){t.velocity({marginLeft:"-225px"},300,a)}function a(){i.velocity({marginLeft:"225px"},200),n.velocity({marginLeft:"225px"},200,o)}function o(){h.each(function(e,t){e===h.length-1?$(t).delay(100*e).velocity({left:"0px"},250,l):$(t).delay(100*e).velocity({left:"0px"},250)})}function l(){u.delay(200).slideDown(300)}var r=$(this),s=r.attr("data-url"),c=r.text(),d=$(".nav-front-linkicon[data-url = "+s+"]");if(s){var f=$("#"+s),u=f.find(".behind-text").first(),h=f.find(">a");d.addClass("nav-front-linkicon-click"),f.find(".behind-home-word").text(c),f.show(),e()}}),$(".nav-arrow").on("click",function(){function a(){t.velocity({marginLeft:"0px"},300)}n.velocity({marginLeft:"0px"},200,a),i.velocity({marginLeft:"0px"},200),e()}),$(".nav-front-linkicon").on("click",function(){function t(){c.each(function(e,t){e===c.length-1?$(t).delay(100*e).velocity({left:"0px"},250,n):$(t).delay(100*e).velocity({left:"0px"},250)})}function n(){s.delay(200).slideDown(300)}var i=$(".nav-front ul").offset().left;if(0>i){var a=$(this),o=a.attr("data-url"),l=a.attr("title");if(o){var r=$("#"+o),s=r.find(".behind-text").first(),c=r.find(">a");r.find(".behind-home-word").text(l),e(),r.show(),t(),$(".nav-front-linkicon").removeClass("nav-front-linkicon-click"),a.addClass("nav-front-linkicon-click")}}}),$(".behind-title").click(function(){var e=$(this).next(".behind-text"),t=$(this).parent(".nav-behind").find(".right i"),n=$(this).find(".right i");"none"==e.css("display")?(e.slideDown(300),e.siblings(".behind-text").each(function(){var e=$(this);e.slideUp(300)}),t.removeClass("fa-minus"),t.addClass("fa-plus"),n.removeClass("fa-plus"),n.addClass("fa-minus")):(e.slideUp(200),n.removeClass("fa-minus"),n.addClass("fa-plus"))}),$(".behind-text").on("click","li a",function(e){var t=$(this),n=t.attr("href");$(".behind-text li a").removeClass("submenu-selected"),t.addClass("submenu-selected"),n&&(e.preventDefault(),$("#content").tabs("addTab",{close:!0,title:t.text(),url:n}))}),$("#content").tabs({width:"100%",height:"100%"}).tabs("addTab",{url:"page/main.html",title:"首页",close:!1}),$("#modifyPwd").on("click",function(){$("#modifyPwdWindow").window({title:"修改密码",width:520,height:330,iframe:{url:"page/sys/modifyPwd.html"}})}),$("#logout").click(function(){$.sdialog({type:"confirm",msg:"您确定要退出系统吗？",confirm:function(e){e&&(location.href="page/login.html")}})})});